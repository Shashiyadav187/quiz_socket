<navbar></navbar>

<div class="container">
  
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">OSM: geolocalización</h1>
      <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
        <leaflet id="map"  center="Madrid"> </leaflet>  
        
      </div>
      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="address in listAddress">
            
            <span ng-if="!address.edit">
              <a href="#" ng-click="deleteAddress(address)" title="Eliminar dirección" ><span class="glyphicon glyphicon-remove pull-right"></span></a>
                <strong ng-click="editAddress(address)" >{{address.road}} {{address.house_number}}</strong>
                <p ng-click="editAddress(address)" >{{address.description}}</p>
            </span>

            <form name="formAddress" ng-submit="saveAddress(formAddress, address)" ng-if="address.edit">
              <a href="#" ng-click="noEditAddress(address)" title="Volver" ><span class="glyphicon glyphicon-repeat pull-right"></span></a>
              <legend>{{address.road}} {{address.house_number}}</legend>
              
              <div class="form-group">
                <label for="">Descripción</label>
                <input type="text" class="form-control" name="description" ng-model="description" ng-value="description" placeholder="Descripcion" ng-change="changePopupMarker(formAddress)">
              </div>
            
              <button class="btn btn-primary">Guardar dirección</button>
              <button class="btn btn-primary" ng-click="noEditAddress(address)" >Cancelar</button>
            </form>
            <!--
            <label for="">Direccion: </label>
            <label for="">Posición:  </label> [ {{address.lat}},{{address.lng}} ]
            <label for="">Description:  </label> {{address.description}}
          -->
          </li>
          <li class="list-group-item" ng-if="edit">
            <a href="#" ng-click="deleteMarker()" title="Eliminar dirección" ><span class="glyphicon glyphicon-remove pull-right"></span></a>
            <form name="formAddress" ng-submit="saveAddress(formAddress, address)" >
              <legend>{{address.road}} {{address.house_number}}</legend>
              
              <div class="form-group">
                <label for="">Añade una descripción</label>
                <input type="text" class="form-control" name="description" ng-model="description" ng-value="description" placeholder="Descripcion" ng-change="changePopupMarker(formAddress)">
              </div>
            
              <button class="btn btn-primary">Guardar dirección</button>
              <button class="btn btn-primary" ng-click="deleteMarker()" >Cancelar</button>
            </form>
            </li>
          </ul>
      </div>
    </div>
  </div>

</div>